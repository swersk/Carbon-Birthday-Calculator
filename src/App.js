//import logo from './logo.svg';
import './App.css';
import React, { useState, useEffect} from 'react';
import Papa from 'papaparse';
//npm install papaparse

const App = () => {

  const [carData, setCarData] = useState([]);
  const [month, setMonth] = useState('');
  const [year, setYear] = useState('');
  const [avg, setAvg] = useState('');


useEffect(() => {
  // fetch('../public/data.csv')
      // .then((res) => res.text())
      // .then((res) => console.log(res))

  const carbonData = `Month,Year,Average
  3,1958,314.43
  4,1958,315.16
  5,1958,314.71
  6,1958,315.14
  7,1958,315.18
  8,1958,316.18
  9,1958,316.08
  10,1958,315.41
  11,1958,315.2
  12,1958,315.43
  1,1959,315.55
  2,1959,315.86
  3,1959,315.38
  4,1959,315.41
  5,1959,315.49
  6,1959,316.03
  7,1959,315.86
  8,1959,316.06
  9,1959,316.73
  10,1959,316.33
  11,1959,316.68
  12,1959,316.35
  1,1960,316.4
  2,1960,316.36
  3,1960,316.28
  4,1960,316.7
  5,1960,317.22
  6,1960,317.47
  7,1960,317.52
  8,1960,317.19
  9,1960,317.08
  10,1960,316.83
  11,1960,316.88
  12,1960,316.96
  1,1961,316.86
  2,1961,317.08
  3,1961,317.26
  4,1961,317.16
  5,1961,317.76
  6,1961,317.63
  7,1961,317.88
  8,1961,318.06
  9,1961,317.9
  10,1961,318.32
  11,1961,317.99
  12,1961,317.79
  1,1962,317.91
  2,1962,317.92
  3,1962,318.39
  4,1962,318.24
  5,1962,318.18
  6,1962,318.47
  7,1962,318.92
  8,1962,318.68
  9,1962,319.17
  10,1962,318.45
  11,1962,318.58
  12,1962,318.47
  1,1963,318.7
  2,1963,318.44
  3,1963,318.57
  4,1963,319.05
  5,1963,319.4
  6,1963,319.32
  7,1963,319.05
  8,1963,319.05
  9,1963,319.14
  10,1963,319.02
  11,1963,318.97
  12,1963,319.13
  1,1964,319.54
  2,1964,319.37
  3,1964,319.41
  4,1964,319.45
  5,1964,319.4
  6,1964,319.75
  7,1964,319.77
  8,1964,320
  9,1964,319.66
  10,1964,319.91
  11,1964,319.58
  12,1964,319.49
  1,1965,319.4
  2,1965,319.81
  3,1965,319.59
  4,1965,319.78
  5,1965,319.3
  6,1965,319.7
  7,1965,320.51
  8,1965,320.15
  9,1965,320.77
  10,1965,320.36
  11,1965,320.78
  12,1965,320.2
  1,1966,320.59
  2,1966,320.96
  3,1966,321.08
  4,1966,321.34
  5,1966,321.2
  6,1966,321.57
  7,1966,321.68
  8,1966,321.65
  9,1966,321.6
  10,1966,321.17
  11,1966,321.7
  12,1966,321.81
  1,1967,322.29
  2,1967,321.86
  3,1967,321.73
  4,1967,322.04
  5,1967,322.12
  6,1967,321.91
  7,1967,321.84
  8,1967,322.21
  9,1967,322.23
  10,1967,322.47
  11,1967,322.65
  12,1967,322.75
  1,1968,322.54
  2,1968,322.51
  3,1968,322.55
  4,1968,322.62
  5,1968,322.68
  6,1968,323.19
  7,1968,323.46
  8,1968,323.43
  9,1968,323.32
  10,1968,323.33
  11,1968,323.25
  12,1968,323.69
  1,1969,323.97
  2,1969,323.77
  3,1969,324.31
  4,1969,324.27
  5,1969,324.48
  6,1969,324.51
  7,1969,325.17
  8,1969,324.97
  9,1969,325.37
  10,1969,324.88
  11,1969,324.79
  12,1969,324.91
  1,1970,325.03
  2,1970,325.34
  3,1970,325.61
  4,1970,325.74
  5,1970,325.16
  6,1970,325.46
  7,1970,325.63
  8,1970,325.99
  9,1970,326.1
  10,1970,326.18
  11,1970,325.95
  12,1970,325.93
  1,1971,326.14
  2,1971,326.03
  3,1971,325.85
  4,1971,325.38
  5,1971,326
  6,1971,326.36
  7,1971,326.65
  8,1971,326.74
  9,1971,326.37
  10,1971,326.69
  11,1971,326.75
  12,1971,326.82
  1,1972,326.73
  2,1972,326.98
  3,1972,326.39
  4,1972,327.29
  5,1972,327.14
  6,1972,326.88
  7,1972,327.36
  8,1972,327.67
  9,1972,327.87
  10,1972,328.33
  11,1972,328.45
  12,1972,328.36
  1,1973,328.51
  2,1973,328.91
  3,1973,328.96
  4,1973,329.08
  5,1973,329.54
  6,1973,329.84
  7,1973,330.15
  8,1973,330.63
  9,1973,330.55
  10,1973,330.32
  11,1973,330.13
  12,1973,329.45
  1,1974,329.32
  2,1974,330.05
  3,1974,330.14
  4,1974,330.22
  5,1974,330.22
  6,1974,329.79
  7,1974,330.21
  8,1974,330.54
  9,1974,330.44
  10,1974,330.53
  11,1974,330.5
  12,1974,330.54
  1,1975,330.84
  2,1975,330.85
  3,1975,330.37
  4,1975,330.53
  5,1975,330.98
  6,1975,331.01
  7,1975,331.12
  8,1975,331.33
  9,1975,331.6
  10,1975,331.62
  11,1975,331.57
  12,1975,331.74
  1,1976,331.67
  2,1976,332.14
  3,1976,331.78
  4,1976,332.16
  5,1976,331.75
  6,1976,331.56
  7,1976,332.23
  8,1976,332.07
  9,1976,332.07
  10,1976,331.98
  11,1976,332.35
  12,1976,332.59
  1,1977,332.77
  2,1977,332.58
  3,1977,333.4
  4,1977,333.54
  5,1977,334
  6,1977,333.79
  7,1977,334.01
  8,1977,333.91
  9,1977,334.36
  10,1977,334.51
  11,1977,334.68
  12,1977,334.58
  1,1978,335.01
  2,1978,334.6
  3,1978,335
  4,1978,335.07
  5,1978,335.08
  6,1978,335.6
  7,1978,335.65
  8,1978,335.87
  9,1978,335.51
  10,1978,335.72
  11,1978,335.99
  12,1978,335.87
  1,1979,336.22
  2,1979,336
  3,1979,336.56
  4,1979,336.11
  5,1979,336.24
  6,1979,336.83
  7,1979,336.69
  8,1979,337.2
  9,1979,337.19
  10,1979,337.57
  11,1979,337.59
  12,1979,337.83
  1,1980,338.13
  2,1980,337.85
  3,1980,338.51
  4,1980,338.31
  5,1980,338.4
  6,1980,338.85
  7,1980,338.56
  8,1980,339.07
  9,1980,339.38
  10,1980,339.4
  11,1980,339.46
  12,1980,339.26
  1,1981,339.42
  2,1981,339.98
  3,1981,340.08
  4,1981,339.98
  5,1981,339.97
  6,1981,340.06
  7,1981,339.92
  8,1981,339.87
  9,1981,340.17
  10,1981,340.39
  11,1981,340.75
  12,1981,340.85
  1,1982,341.09
  2,1982,341.16
  3,1982,341.18
  4,1982,341.32
  5,1982,341.67
  6,1982,341.43
  7,1982,341.61
  8,1982,341.64
  9,1982,341.56
  10,1982,341.77
  11,1982,341.59
  12,1982,341.71
  1,1983,341.75
  2,1983,342.25
  3,1983,341.85
  4,1983,342.76
  5,1983,342.97
  6,1983,343.3
  7,1983,343.56
  8,1983,343.89
  9,1983,343.59
  10,1983,343.86
  11,1983,343.92
  12,1983,344.12
  1,1984,344.32
  2,1984,344.39
  3,1984,344.26
  4,1984,344.75
  5,1984,344.59
  6,1984,344.73
  7,1984,345.02
  8,1984,345.12
  9,1984,344.76
  10,1984,345.19
  11,1984,345.41
  12,1984,345.88
  1,1985,345.59
  2,1985,345.92
  3,1985,346.56
  4,1985,346.08
  5,1985,346.12
  6,1985,346.23
  7,1985,346.08
  8,1985,346.57
  9,1985,346.59
  10,1985,346.6
  11,1985,346.82
  12,1985,347.04
  1,1986,346.82
  2,1986,346.98
  3,1986,346.93
  4,1986,347.29
  5,1986,347.42
  6,1986,347.61
  7,1986,347.43
  8,1986,347.51
  9,1986,348.62
  10,1986,348.04
  11,1986,348.28
  12,1986,348.36
  1,1987,348.66
  2,1987,348.24
  3,1987,348.39
  4,1987,348.84
  5,1987,349.09
  6,1987,349.29
  7,1987,349.51
  8,1987,349.65
  9,1987,349.85
  10,1987,349.96
  11,1987,350.15
  12,1987,350.14
  1,1988,350.49
  2,1988,351
  3,1988,350.99
  4,1988,351.03
  5,1988,351.22
  6,1988,351.55
  7,1988,352.15
  8,1988,352.01
  9,1988,352.18
  10,1988,352.62
  11,1988,352.53
  12,1988,352.52
  1,1989,352.99
  2,1989,352.69
  3,1989,352.6
  4,1989,353.07
  5,1989,352.78
  6,1989,353.06
  7,1989,353.38
  8,1989,353.43
  9,1989,353.37
  10,1989,353.57
  11,1989,353.68
  12,1989,353.84
  1,1990,353.78
  2,1990,354.37
  3,1990,354.27
  4,1990,353.76
  5,1990,354.23
  6,1990,354.02
  7,1990,354.24
  8,1990,354.68
  9,1990,354.69
  10,1990,354.94
  11,1990,355.18
  12,1990,355.26
  1,1991,354.9
  2,1991,355.11
  3,1991,355.79
  4,1991,356.13
  5,1991,356.1
  6,1991,355.88
  7,1991,355.69
  8,1991,355.59
  9,1991,355.66
  10,1991,355.69
  11,1991,355.87
  12,1991,356.02
  1,1992,356.29
  2,1992,356.47
  3,1992,356.38
  4,1992,356.51
  5,1992,356.52
  6,1992,357.07
  7,1992,356.58
  8,1992,356.67
  9,1992,356.36
  10,1992,356.72
  11,1992,356.48
  12,1992,356.5
  1,1993,357.06
  2,1993,356.54
  3,1993,356.88
  4,1993,356.71
  5,1993,357.14
  6,1993,357.24
  7,1993,356.87
  8,1993,357.44
  9,1993,357.51
  10,1993,357.61
  11,1993,357.65
  12,1993,357.92
  1,1994,358.25
  2,1994,358.21
  3,1994,358.41
  4,1994,358.59
  5,1994,358.59
  6,1994,358.57
  7,1994,358.91
  8,1994,359.29
  9,1994,359.3
  10,1994,359.63
  11,1994,359.8
  12,1994,359.96
  1,1995,359.91
  2,1995,360.18
  3,1995,360.37
  4,1995,360.76
  5,1995,360.72
  6,1995,360.98
  7,1995,361.1
  8,1995,360.93
  9,1995,361.71
  10,1995,361.52
  11,1995,361.75
  12,1995,361.67
  1,1996,361.98
  2,1996,362.47
  3,1996,362.64
  4,1996,361.99
  5,1996,362.23
  6,1996,362.82
  7,1996,362.98
  8,1996,363.13
  9,1996,363.14
  10,1996,363.12
  11,1996,363.18
  12,1996,363.23
  1,1997,363.03
  2,1997,363.4
  3,1997,363.02
  4,1997,363.82
  5,1997,363.87
  6,1997,363.56
  7,1997,363.74
  8,1997,363.98
  9,1997,363.83
  10,1997,364.28
  11,1997,364.71
  12,1997,365.28
  1,1998,365.19
  2,1998,365.29
  3,1998,365.73
  4,1998,366.17
  5,1998,366.68
  6,1998,366.95
  7,1998,367.29
  8,1998,367.69
  9,1998,367.51
  10,1998,367.82
  11,1998,367.7
  12,1998,368.05
  1,1999,368.13
  2,1999,368.46
  3,1999,368.24
  4,1999,368.62
  5,1999,368.31
  6,1999,368.29
  7,1999,368.93
  8,1999,368.63
  9,1999,368.28
  10,1999,368.8
  11,1999,368.86
  12,1999,368.93
  1,2000,369.24
  2,2000,368.99
  3,2000,369.24
  4,2000,369.44
  5,2000,368.87
  6,2000,369.66
  7,2000,369.36
  8,2000,369.87
  9,2000,370.46
  10,2000,370.42
  11,2000,370.48
  12,2000,370.46
  1,2001,370.6
  2,2001,370.95
  3,2001,371.06
  4,2001,370.99
  5,2001,371.11
  6,2001,371.17
  7,2001,371.08
  8,2001,371.39
  9,2001,371.61
  10,2001,371.85
  11,2001,371.92
  12,2001,372.09
  1,2002,372.48
  2,2002,372.49
  3,2002,372.61
  4,2002,372.54
  5,2002,372.98
  6,2002,373.46
  7,2002,373.58
  8,2002,373.7
  9,2002,374.29
  10,2002,374.06
  11,2002,374.52
  12,2002,374.72
  1,2003,374.82
  2,2003,374.95
  3,2003,374.99
  4,2003,375.24
  5,2003,375.73
  6,2003,376.21
  7,2003,376.37
  8,2003,376.27
  9,2003,376.65
  10,2003,376.65
  11,2003,376.99
  12,2003,376.93
  1,2004,376.96
  2,2004,377.19
  3,2004,377.4
  4,2004,377.8
  5,2004,377.66
  6,2004,377.57
  7,2004,377.12
  8,2004,377.9
  9,2004,377.8
  10,2004,378
  11,2004,378.49
  12,2004,378.48
  1,2005,378.37
  2,2005,379.1
  3,2005,379.45
  4,2005,379.84
  5,2005,379.49
  6,2005,380.07
  7,2005,380.38
  8,2005,380.61
  9,2005,380.2
  10,2005,380.5
  11,2005,380.69
  12,2005,381.09
  1,2006,381.33
  2,2006,381.58
  3,2006,381.32
  4,2006,382.11
  5,2006,382.06
  6,2006,381.93
  7,2006,382.1
  8,2006,382.27
  9,2006,382.35
  10,2006,382.66
  11,2006,382.52
  12,2006,382.84
  1,2007,382.88
  2,2007,383.22
  3,2007,383.17
  4,2007,383.95
  5,2007,383.56
  6,2007,384.06
  7,2007,384.25
  8,2007,383.95
  9,2007,384.56
  10,2007,384.72
  11,2007,384.9
  12,2007,385.07
  1,2008,385.54
  2,2008,385.2
  3,2008,384.72
  4,2008,384.71
  5,2008,385.69
  6,2008,385.68
  7,2008,386.04
  8,2008,385.98
  9,2008,386.68
  10,2008,386.49
  11,2008,386.59
  12,2008,386.64
  1,2009,386.86
  2,2009,386.81
  3,2009,387.54
  4,2009,387.15
  5,2009,387.24
  6,2009,387.46
  7,2009,387.77
  8,2009,387.99
  9,2009,388.22
  10,2009,387.88
  11,2009,388.36
  12,2009,388.43
  1,2010,388.62
  2,2010,389.47
  3,2010,389.85
  4,2010,390.12
  5,2010,390.09
  6,2010,390.1
  7,2010,389.93
  8,2010,390.21
  9,2010,390.32
  10,2010,390.72
  11,2010,390.99
  12,2010,390.8
  1,2011,391.19
  2,2011,391.12
  3,2011,391.27
  4,2011,390.83
  5,2011,391.24
  6,2011,391.64
  7,2011,392.25
  8,2011,392.04
  9,2011,392.6
  10,2011,392.53
  11,2011,392.64
  12,2011,392.86
  1,2012,393.07
  2,2012,393.2
  3,2012,392.99
  4,2012,393.65
  5,2012,393.73
  6,2012,393.63
  7,2012,394.12
  8,2012,394.37
  9,2012,394.74
  10,2012,394.64
  11,2012,395.25
  12,2012,395.27
  1,2013,395.62
  2,2013,396.23
  3,2013,396.07
  4,2013,395.79
  5,2013,396.64
  6,2013,396.48
  7,2013,397.12
  8,2013,397.27
  9,2013,397.24
  10,2013,397.25
  11,2013,397.35
  12,2013,397.78
  1,2014,397.74
  2,2014,397.45
  3,2014,398.37
  4,2014,398.63
  5,2014,398.56
  6,2014,399.1
  7,2014,398.85
  8,2014,399.07
  9,2014,399.11
  10,2014,399.58
  11,2014,399.49
  12,2014,399.81
  1,2015,399.92
  2,2015,399.77
  3,2015,400.22
  4,2015,400.46
  5,2015,400.7
  6,2015,400.65
  7,2015,401.11
  8,2015,401.04
  9,2015,401.43
  10,2015,401.89
  11,2015,402.24
  12,2015,402.72
  1,2016,402.45
  2,2016,403.4
  3,2016,403.54
  4,2016,404.77
  5,2016,404.41
  6,2016,404.59
  7,2016,404.24
  8,2016,404.41
  9,2016,404.85
  10,2016,405.23
  11,2016,405.74
  12,2016,405.33
  1,2017,406.04
  2,2017,405.8
  3,2017,406.05
  4,2017,406.37
  5,2017,406.37
  6,2017,406.68
  7,2017,407.01
  8,2017,407.31
  9,2017,407.17
  10,2017,407.23
  11,2017,407.36
  12,2017,407.71
  1,2018,407.82
  2,2018,407.61
  3,2018,408.06
  4,2018,407.65
  5,2018,407.98
  6,2018,408.6
  7,2018,408.59
  8,2018,409.17
  9,2018,409.31
  10,2018,409.56
  11,2018,410.24
  12,2018,409.99
  1,2019,410.69
  2,2019,410.96
  3,2019,410.71
  4,2019,410.92
  5,2019,411.47
  6,2019,411.75
  7,2019,411.65
  8,2019,412.1
  9,2019,412.26
  10,2019,412.1
  11,2019,412.52
  12,2019,412.74
  1,2020,413.26
  2,2020,413.4
  3,2020,413.27
  4,2020,413.74
  5,2020,413.88
  6,2020,414.23
  7,2020,414.31
  8,2020,414.73
  9,2020,415.07
  10,2020,414.86
  11,2020,415.12
  12,2020,414.97
  1,2021,415.17
  2,2021,415.81
  3,2021,416.17
  4,2021,416.34
  5,2021,415.7
  6,2021,416.57
  7,2021,416.65
  8,2021,416.43
  9,2021,416.85
  10,2021,417.28
  11,2021,417.01
  12,2021,417.42
  1,2022,417.84
  2,2022,418.34
  3,2022,417.34
  4,2022,417.52
  5,2022,417.56
  6,2022,418.62
  7,2022,418.59
  8,2022,419.15
  9,2022,419.5
  10,2022,419.13
  11,2022,419.51
  12,2022,419.66
  1,2023,419.14
  2,2023,419.36
  3,2023,419.52
  4,2023,420.65
  5,2023,420.57`;


  Papa.parse(carbonData, {
    header: true,
    complete: function (results) {
      console.log('results', results.data)
      setCarData(results.data)
      // console.log('carDataMonth', carData[0].Month)
      // console.log('carDataYear', carData[0].Year)
      // console.log('carDataAverage', carData[0].Average)
     }
    });
}, []);

let months = ['January', 'February', 'March', 'April', 'May', 'June',
  'July', 'August', 'September', 'October', 'November', 'December'];

let startYear = 1958;
let endYear = 2023;

let years = [];
for (let i = startYear; i <= endYear; i++) {
  years.push(i)
}

const handleMonthClick = (e) => {
  e.preventDefault();
  console.log('month', e.target.value)
  setMonth(e.target.value)
}

const handleYearClick = (e) => {
  e.preventDefault();
  console.log('e.target.value', e.target.value)
  setYear(e.target.value)
}

const setAverage = (month,year) => {
for (let i = 0; i < carData.length; i++) {
  if (carData[i].Month === month && carData[i].Year === year) {
    setAvg(carData[i].Average)
    console.log('avg', avg)
    break;
  }
 }
}

  return (
    <>
        <h3>How much carbon was in the atmosphere when you were born?</h3>
        <h4>Select your birth information to find out! </h4>
        <div className="month">
            <select value={month} onChange={handleMonthClick}>
                <option value="">Month</option>
                {months.map((month) => (
                  <option key={month} value={month}>{month}</option>
                ))}
             </select>
        </div>
        <div className="year">
            <select value={year} onChange={handleYearClick}>
                <option value="">Year</option>
                {years.map((year) => (
                  <option key={year} value={year}>{year}</option>
                ))}
             </select>
        </div>

        {month && year && (
          <div className="average">
              <h2>Your Results</h2>
              <h4>In {month} {year}, there were {avg}ppm carbon in the atmosphere.</h4>
              {/* <h4>Today, there are TBD ppm carbon in the atmosphere.</h4>
              <h4>That's an increase of TBD ppm during your lifetime thus far.</h4>
              <h4>These levels are speeding up. As a comparison, carbon only increased TBD ppm during the 41 years before your birth.</h4>
              <h3><em>Carbon dioxide in the atmosphere is measured in parts per million (ppm). Yearly average carbon figures dating back to 1958 come from Mauna Loa (Hawaii) and the South Pole. Carbon figures before 1958 come from measurements of ice core samples in Antarctica.</em></h3>
              <h2>Learn more (link) about how the results were calculated.....This scrolls to the bottom upon click</h2> */}
          </div>
        )}
    </>
  )
}

export default App;